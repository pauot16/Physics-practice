name: Build

on: 
 push:
  branches:
   - main
 workflow_dispatch:

jobs:
 builds:
  runs-on: windows-latest

  steps:
   - name: Checkout repository
     uses: actions/checkout@v3

   - name: Setup MSBuild
     uses: microsoft/setup-msbuild@v2

   - name: Build solution
     run: msbuild .\PhysicsGame.sln /p:Configuration=Release

   - name: Create artifact directory
     run: mkdir artifact

   - name: Copy Artifact
     run: copy ./Build/PhysicsGame/Release/Win32/PhysicsGame.exe ./artifact

   - name: Upload artifact
     uses: actions/upload-artifact@v4
     with: 
      path: ./artifact
      name: PhysycsGame
   
